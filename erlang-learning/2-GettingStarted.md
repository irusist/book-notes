# 入门

## 安装
*  安装erlang：http://cean.process-one.net/downloads/
*  源代码：http://pragprog.com/titles/jaerlang/code.html
*  erlang shell：Ctrl + N， Ctrl + P
*  用16进制和32进制来表示数字：16#cafe * 32#sugar

## 变量：
X = 123456789.  
打印X:  
X.  
使用X:   
X * X * X.  
赋值另外的值会抛出异常：  
X = 1234.  
一个变量如果含有一个被赋予的值，就称为绑定变量，否则，则称为自由变量。一开始，所有的变量都是自由的。  
=是一个模式匹配运算符。当X是一个自由变量时，他的行为与赋值一致。  

## 浮点数：
5/3.  % 1.66667   
4/2   % 2.00  
5 div 3  % 1  
5 rem 3  % 2  

/ 永远返回浮点数，浮点数必须还有小数点，小数点后面必须至少还有一位十进制数   

## 原子:
原子用来表示不同的非数字常量值。类似枚举。原子是全局有效的。  
原子是一串以小写字母开头，后跟数字，字母或下划线（_)或邮件符号(@)的字符。   
使用单引号引起来的字符也是原子，使用这种形式，我们就能使得原子可以用大写字母作为开头或者包含非数字字符。还可以将原本不需要使用引号的原子引起来，‘a’实际上等同于a   
一个原子的值就是原子自身。因此，如果输入的命令只有原子，那么Erlang shelli会打印那个原子的值。   

erlang是函数式语言，每个表达式都必须有值。   

## 元组：
{joe, 1.82}   
P = {10, 45}  
通常可以使用一个原子作为元组的第一个元素来表明这个元组所代表的含义：可以用{point, 10, 45}来代替{10, 45}   
元组可以嵌套：   
		 Person = {person, {name, joe},   
		    	 	  {height, 1.82},   
				  {footsize, 42},   
				  {eyecolor, brown}}.

## 创建元组
*  在声明元组时，就自动创建了元组，不再使用它们时，元组也就销毁，Erlang使用垃圾搜集器去收回没有使用的内存。  
*  如果创建一个新元组引用了一个已绑定的变量，那么新元组就会享有这个变量所引用的数据结构。
*  如果在创建数据结构时试图引用一个未定义的变量，系统给出一个错误。

## 从元组中提出字段值
Point = {point, 10, 45}.  
{point, X, Y} = Point.  
X. % 10    
Y. % 45  
Person = {person, {name, {first, joe}, {last, armstrong}}, {footsize, 42}}.  
Person = = {_, {_, {_, Who}, _}, _}.  
Who. % joe

## 列表
ThingsToBuy = [{apples, 10}, {pears, 6}, {milk, 3}].  
列表之中各个元素可以有各自不同的类型，如：  
[1+7, hello, 2-2, {cost, apple, 30-20}, 3].  
列表的第一个元素称为列表的头（head），所剩下的到东西称为列表的尾（tail）。  
如果T是一个列表，你们[H|T]也是一个列表，这个列表以H为头，T为尾。[]表示空列表。  
无论何时，用[...|T]来构造一个列表时，都应该保证T是一个列表,如果T是一个列表，那么新的列表就是正规形式，否则，新列表称为非正规列表。  
可以用[E1, E2, ..., En | T】这种形式向T的起始处加入多个新元素：ThingsToBuy1 = [{orange, 4}, {newspaper, 1} | ThingsToBuy]. 

## 从列表提取元素
[Buy1 | ThingsToBuy2] = ThingsToBuy1.  
Buy1. % {orange, 4}  
ThingsToBuy2. % [{newspaper, 1}, {apples, 10}, {pears, 6}, {milk, 3}]  
[Buy2, Buy3 | ThingsToBuy3] = ThingsToBuy2.  

Buy2. % {newspaper, 1}    
Buy3. % {apples, 10}  
ThingsToBuy3. % [{pears, 6}, {milk, 3}]

## 字符串
字符串实际上是整数列表，用双引号（“”）将一串字符括起来就是一个字符串，不能使用单引号：Name = "Hello".  
shell打印一串列表时，只有列表中的所有整数都是可打印字符，它才把这个列表当作字符串打印。  
[1, 2, 3]  
[83, 117, 114, 112, 114, 105, 115, 101].  
可以用$符号来表示字符的整数值  
命令f()会让shell释放他所绑定过的所有变量，执行这个命令后，所有的变量都成为自由变量。




